<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>iDynTree: iDynTree::IAttitudeEstimator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">iDynTree
   </div>
   <div id="projectbrief">Free floating robots dynamics library.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classiDynTree_1_1IAttitudeEstimator.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classiDynTree_1_1IAttitudeEstimator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">iDynTree::IAttitudeEstimator Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;AttitudeEstimator.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for iDynTree::IAttitudeEstimator:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classiDynTree_1_1IAttitudeEstimator__inherit__graph.svg" width="462" height="127"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9538a2c53c84b6ac5ec0abeacea9626b"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1IAttitudeEstimator.html#a9538a2c53c84b6ac5ec0abeacea9626b">~IAttitudeEstimator</a> ()</td></tr>
<tr class="separator:a9538a2c53c84b6ac5ec0abeacea9626b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c251ac717cbcfeb75a39fffd5a9b185"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1IAttitudeEstimator.html#a9c251ac717cbcfeb75a39fffd5a9b185">updateFilterWithMeasurements</a> (const <a class="el" href="namespaceiDynTree.html#adcfa60b3d3580f517fd47c8864534b36">iDynTree::LinearAccelerometerMeasurements</a> &amp;linAccMeas, const <a class="el" href="namespaceiDynTree.html#a94dcb1f9c90a22269981469e229ed6ce">iDynTree::GyroscopeMeasurements</a> &amp;gyroMeas)=0</td></tr>
<tr class="memdesc:a9c251ac717cbcfeb75a39fffd5a9b185"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the filter with accelerometer and gyroscope measurements.  <a href="classiDynTree_1_1IAttitudeEstimator.html#a9c251ac717cbcfeb75a39fffd5a9b185">More...</a><br /></td></tr>
<tr class="separator:a9c251ac717cbcfeb75a39fffd5a9b185"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7121acf85b46be0edb9231588c579013"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1IAttitudeEstimator.html#a7121acf85b46be0edb9231588c579013">updateFilterWithMeasurements</a> (const <a class="el" href="namespaceiDynTree.html#adcfa60b3d3580f517fd47c8864534b36">iDynTree::LinearAccelerometerMeasurements</a> &amp;linAccMeas, const <a class="el" href="namespaceiDynTree.html#a94dcb1f9c90a22269981469e229ed6ce">iDynTree::GyroscopeMeasurements</a> &amp;gyroMeas, const <a class="el" href="namespaceiDynTree.html#ad170eb4fd0bd13bfb0bdbdb6460d28bc">iDynTree::MagnetometerMeasurements</a> &amp;magMeas)=0</td></tr>
<tr class="memdesc:a7121acf85b46be0edb9231588c579013"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the filter with accelerometer, gyroscope and magnetometer measurements.  <a href="classiDynTree_1_1IAttitudeEstimator.html#a7121acf85b46be0edb9231588c579013">More...</a><br /></td></tr>
<tr class="separator:a7121acf85b46be0edb9231588c579013"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cc4ea7bacb721c67890ceb250857e71"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1IAttitudeEstimator.html#a6cc4ea7bacb721c67890ceb250857e71">propagateStates</a> ()=0</td></tr>
<tr class="memdesc:a6cc4ea7bacb721c67890ceb250857e71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Propagate the states and associated uncertainties through properly defined propagation functions The underlying implementation depends on the type of filter being implemented.  <a href="classiDynTree_1_1IAttitudeEstimator.html#a6cc4ea7bacb721c67890ceb250857e71">More...</a><br /></td></tr>
<tr class="separator:a6cc4ea7bacb721c67890ceb250857e71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fd8541c4ede713177058251aae24717"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1IAttitudeEstimator.html#a3fd8541c4ede713177058251aae24717">getOrientationEstimateAsRotationMatrix</a> (<a class="el" href="classiDynTree_1_1Rotation.html">iDynTree::Rotation</a> &amp;rot)=0</td></tr>
<tr class="memdesc:a3fd8541c4ede713177058251aae24717"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get orientation of the body with respect to inertial frame, in rotation matrix form If we denote \( A \) as inertial frame and \( B \) as the frame attached to the body, then this method gives us \( {^A}R_B \) as the rotation matrix.  <a href="classiDynTree_1_1IAttitudeEstimator.html#a3fd8541c4ede713177058251aae24717">More...</a><br /></td></tr>
<tr class="separator:a3fd8541c4ede713177058251aae24717"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72f94711e28d7173869f41492d6ac364"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1IAttitudeEstimator.html#a72f94711e28d7173869f41492d6ac364">getOrientationEstimateAsQuaternion</a> (<a class="el" href="namespaceiDynTree.html#a8953e202971beb38867767ab9f002c42">iDynTree::UnitQuaternion</a> &amp;q)=0</td></tr>
<tr class="memdesc:a72f94711e28d7173869f41492d6ac364"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get orientation of the body with respect to inertial frame, in unit quaternion form If we denote \( A \) as inertial frame and \( B \) as the frame attached to the body, then this method gives us \( {^A}q_B as the quaternion \).  <a href="classiDynTree_1_1IAttitudeEstimator.html#a72f94711e28d7173869f41492d6ac364">More...</a><br /></td></tr>
<tr class="separator:a72f94711e28d7173869f41492d6ac364"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add5b1c7109a232bcb3da976792f72a6f"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1IAttitudeEstimator.html#add5b1c7109a232bcb3da976792f72a6f">getOrientationEstimateAsRPY</a> (<a class="el" href="namespaceiDynTree.html#a48e2955e462d28103d57a10634d0654d">iDynTree::RPY</a> &amp;rpy)=0</td></tr>
<tr class="memdesc:add5b1c7109a232bcb3da976792f72a6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get orientation of the body with respect to inertial frame, in Euler's RPY form If we denote \( A \) as inertial frame and \( B \) as the frame attached to the body, then this method gives us the RPY 3d vector of Euler Angles when composed together gives us \( {^A}R_B \) as the rotation matrix where \( {^A}R_B = Rot_z(yaw)Rot_y(pitch)Rot_x(roll)\).  <a href="classiDynTree_1_1IAttitudeEstimator.html#add5b1c7109a232bcb3da976792f72a6f">More...</a><br /></td></tr>
<tr class="separator:add5b1c7109a232bcb3da976792f72a6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7234eb151268d99d90dbe691a6bf3a46"><td class="memItemLeft" align="right" valign="top">virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1IAttitudeEstimator.html#a7234eb151268d99d90dbe691a6bf3a46">getInternalStateSize</a> () const =0</td></tr>
<tr class="memdesc:a7234eb151268d99d90dbe691a6bf3a46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get dimension of the state vector.  <a href="classiDynTree_1_1IAttitudeEstimator.html#a7234eb151268d99d90dbe691a6bf3a46">More...</a><br /></td></tr>
<tr class="separator:a7234eb151268d99d90dbe691a6bf3a46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0360685bed94e086224b1126116dca04"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1IAttitudeEstimator.html#a0360685bed94e086224b1126116dca04">getInternalState</a> (const <a class="el" href="classiDynTree_1_1Span.html">iDynTree::Span</a>&lt; double &gt; &amp;stateBuffer) const =0</td></tr>
<tr class="memdesc:a0360685bed94e086224b1126116dca04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get internal state of the estimator The internal state of the estimator is described as \( X = \begin{bmatrix} {^A}q_B \\ {^B}\Omega_{A,B} \\ {^B}b \end{bmatrix}^T \) \( {^A}q_B \in \mathbb{R}^4 \) is the quaternion representing the orientation of a body(IMU) frame with respect to an inertial frame , \( {^B}\Omega_{A,B} \in \mathbb{R}^3 \) is the angular velocity of a body(IMU) frame with respect to an inertial frame, expressed in the body frame and \( {^B}b \in \mathbb{R}^3 \) is the gyroscope bias expressed in the body frame.  <a href="classiDynTree_1_1IAttitudeEstimator.html#a0360685bed94e086224b1126116dca04">More...</a><br /></td></tr>
<tr class="separator:a0360685bed94e086224b1126116dca04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86554ddcfc70601b05ad7cd997851983"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1IAttitudeEstimator.html#a86554ddcfc70601b05ad7cd997851983">getDefaultInternalInitialState</a> (const <a class="el" href="classiDynTree_1_1Span.html">iDynTree::Span</a>&lt; double &gt; &amp;stateBuffer) const =0</td></tr>
<tr class="memdesc:a86554ddcfc70601b05ad7cd997851983"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get initial internal state of the estimator The internal state of the estimator is described as \( X = \begin{bmatrix} {^A}q_B \\ {^B}\Omega_{A,B} \\ {^B}b \end{bmatrix}^T \) \( {^A}q_B \in \mathbb{R}^4 \) is the quaternion representing the orientation of a body(IMU) frame with respect to an inertial frame , \( {^B}\Omega_{A,B} \in \mathbb{R}^3 \) is the angular velocity of a body(IMU) frame with respect to an inertial frame, expressed in the body frame and \( {^B}b \in \mathbb{R}^3 \) is the gyroscope bias expressed in the body frame.  <a href="classiDynTree_1_1IAttitudeEstimator.html#a86554ddcfc70601b05ad7cd997851983">More...</a><br /></td></tr>
<tr class="separator:a86554ddcfc70601b05ad7cd997851983"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4277465fc6cacfa0fa0ccd1d1c863954"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1IAttitudeEstimator.html#a4277465fc6cacfa0fa0ccd1d1c863954">setInternalState</a> (const <a class="el" href="classiDynTree_1_1Span.html">iDynTree::Span</a>&lt; double &gt; &amp;stateBuffer)=0</td></tr>
<tr class="memdesc:a4277465fc6cacfa0fa0ccd1d1c863954"><td class="mdescLeft">&#160;</td><td class="mdescRight">set internal state of the estimator.  <a href="classiDynTree_1_1IAttitudeEstimator.html#a4277465fc6cacfa0fa0ccd1d1c863954">More...</a><br /></td></tr>
<tr class="separator:a4277465fc6cacfa0fa0ccd1d1c863954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ca76def98fa0bd37975788dc7e1c0c5"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classiDynTree_1_1IAttitudeEstimator.html#a8ca76def98fa0bd37975788dc7e1c0c5">setInternalStateInitialOrientation</a> (const <a class="el" href="classiDynTree_1_1Span.html">iDynTree::Span</a>&lt; double &gt; &amp;orientationBuffer)=0</td></tr>
<tr class="memdesc:a8ca76def98fa0bd37975788dc7e1c0c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">set the initial orientation for the internal state of the estimator.  <a href="classiDynTree_1_1IAttitudeEstimator.html#a8ca76def98fa0bd37975788dc7e1c0c5">More...</a><br /></td></tr>
<tr class="separator:a8ca76def98fa0bd37975788dc7e1c0c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>for attitude estimator classes</p>
<p>The aim is to implement different attitude estimators as a block that takes IMU measurements as inputs and gives attitude estimates as outputs. This way the underlying implementation is abstracted and the user only has to set a few parameters and run the estimator.</p>
<p>The general procedure to use the estimators would be,</p><ul>
<li>instantiate the filter,</li>
<li>set initial internal state</li>
<li>in a loop,<ul>
<li>update the filter with measurements</li>
<li>propagate the states</li>
</ul>
</li>
</ul>
<p>However, additional methods to set and get parameters for the filter might be available with respect to the filters.</p>
<p>The internal state of the estimator is described as \( X = \begin{bmatrix} {^A}q_B \\ {^B}\Omega_{A,B} \\ {^B}b \end{bmatrix}^T \) \( {^A}q_B \in \mathbb{R}^4 \) is the quaternion representing the orientation of a body(IMU) frame with respect to an inertial frame , \( {^B}\Omega_{A,B} \in \mathbb{R}^3 \) is the angular velocity of a body(IMU) frame with respect to an inertial frame, expressed in the body frame and \( {^B}b \in \mathbb{R}^3 \) is the gyroscope bias expressed in the body frame. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9538a2c53c84b6ac5ec0abeacea9626b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9538a2c53c84b6ac5ec0abeacea9626b">&#9670;&nbsp;</a></span>~IAttitudeEstimator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">iDynTree::IAttitudeEstimator::~IAttitudeEstimator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9c251ac717cbcfeb75a39fffd5a9b185"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c251ac717cbcfeb75a39fffd5a9b185">&#9670;&nbsp;</a></span>updateFilterWithMeasurements() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool iDynTree::IAttitudeEstimator::updateFilterWithMeasurements </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceiDynTree.html#adcfa60b3d3580f517fd47c8864534b36">iDynTree::LinearAccelerometerMeasurements</a> &amp;&#160;</td>
          <td class="paramname"><em>linAccMeas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespaceiDynTree.html#a94dcb1f9c90a22269981469e229ed6ce">iDynTree::GyroscopeMeasurements</a> &amp;&#160;</td>
          <td class="paramname"><em>gyroMeas</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the filter with accelerometer and gyroscope measurements. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">linAccMeas</td><td>proper (body acceleration - gravity) classical acceleration of the origin of the body frame B expressed in frame B </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gyroMeas</td><td>angular velocity of body frame B with respect to an inertial fram A, expressed in frame B</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>consider the current behavior of our system does not use magnetometer measurements and is calling this method to update measurements. Then, if we decide to turn the flag use_magnetometer_measurements to true, this will not guarantee that the magnetometer measurements will be used. The magnetometer measurements will be used only if we replace this function call with the other overlaoded function considering the magnetometer measurements.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>true/false if successful/not </dd></dl>

<p>Implemented in <a class="el" href="classiDynTree_1_1AttitudeQuaternionEKF.html#addb65b053f2854685bb193318cfd5e6c">iDynTree::AttitudeQuaternionEKF</a>, and <a class="el" href="classiDynTree_1_1AttitudeMahonyFilter.html#a761c1ce98405a7bf629e1e523e3649f5">iDynTree::AttitudeMahonyFilter</a>.</p>

</div>
</div>
<a id="a7121acf85b46be0edb9231588c579013"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7121acf85b46be0edb9231588c579013">&#9670;&nbsp;</a></span>updateFilterWithMeasurements() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool iDynTree::IAttitudeEstimator::updateFilterWithMeasurements </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceiDynTree.html#adcfa60b3d3580f517fd47c8864534b36">iDynTree::LinearAccelerometerMeasurements</a> &amp;&#160;</td>
          <td class="paramname"><em>linAccMeas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespaceiDynTree.html#a94dcb1f9c90a22269981469e229ed6ce">iDynTree::GyroscopeMeasurements</a> &amp;&#160;</td>
          <td class="paramname"><em>gyroMeas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespaceiDynTree.html#ad170eb4fd0bd13bfb0bdbdb6460d28bc">iDynTree::MagnetometerMeasurements</a> &amp;&#160;</td>
          <td class="paramname"><em>magMeas</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the filter with accelerometer, gyroscope and magnetometer measurements. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">linAccMeas</td><td>proper (body acceleration - gravity) classical acceleration of the origin of the body frame B expressed in frame B </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gyroMeas</td><td>angular velocity of body frame B with respect to an inertial fram A, expressed in frame B </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">magMeas</td><td>magnetometer measurements expressed in frame B</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true/false if successful/not </dd></dl>

<p>Implemented in <a class="el" href="classiDynTree_1_1AttitudeQuaternionEKF.html#a066e3d8d073c3374c3c49cfc41bb4618">iDynTree::AttitudeQuaternionEKF</a>, and <a class="el" href="classiDynTree_1_1AttitudeMahonyFilter.html#aa87977f5cb6afd23f73aa526dc993ade">iDynTree::AttitudeMahonyFilter</a>.</p>

</div>
</div>
<a id="a6cc4ea7bacb721c67890ceb250857e71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cc4ea7bacb721c67890ceb250857e71">&#9670;&nbsp;</a></span>propagateStates()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool iDynTree::IAttitudeEstimator::propagateStates </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Propagate the states and associated uncertainties through properly defined propagation functions The underlying implementation depends on the type of filter being implemented. </p>
<dl class="section return"><dt>Returns</dt><dd>true/false if successful/not </dd></dl>

<p>Implemented in <a class="el" href="classiDynTree_1_1AttitudeQuaternionEKF.html#a6d06f0744427bd918a7175919176fa05">iDynTree::AttitudeQuaternionEKF</a>, and <a class="el" href="classiDynTree_1_1AttitudeMahonyFilter.html#af743b419ed9b87c50cc3d3bd87c09ce0">iDynTree::AttitudeMahonyFilter</a>.</p>

</div>
</div>
<a id="a3fd8541c4ede713177058251aae24717"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fd8541c4ede713177058251aae24717">&#9670;&nbsp;</a></span>getOrientationEstimateAsRotationMatrix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool iDynTree::IAttitudeEstimator::getOrientationEstimateAsRotationMatrix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiDynTree_1_1Rotation.html">iDynTree::Rotation</a> &amp;&#160;</td>
          <td class="paramname"><em>rot</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get orientation of the body with respect to inertial frame, in rotation matrix form If we denote \( A \) as inertial frame and \( B \) as the frame attached to the body, then this method gives us \( {^A}R_B \) as the rotation matrix. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">rot</td><td><a class="el" href="classiDynTree_1_1Rotation.html" title="Class representation the rotation of an orientation frame with respect to a reference orientation fra...">Rotation</a> matrix </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true/false if successful/not </dd></dl>

<p>Implemented in <a class="el" href="classiDynTree_1_1AttitudeQuaternionEKF.html#a0fd7d6c689f0ff66d799469d0fd1dbf0">iDynTree::AttitudeQuaternionEKF</a>, and <a class="el" href="classiDynTree_1_1AttitudeMahonyFilter.html#a17791aee32f963e4b1117625fb19a509">iDynTree::AttitudeMahonyFilter</a>.</p>

</div>
</div>
<a id="a72f94711e28d7173869f41492d6ac364"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72f94711e28d7173869f41492d6ac364">&#9670;&nbsp;</a></span>getOrientationEstimateAsQuaternion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool iDynTree::IAttitudeEstimator::getOrientationEstimateAsQuaternion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceiDynTree.html#a8953e202971beb38867767ab9f002c42">iDynTree::UnitQuaternion</a> &amp;&#160;</td>
          <td class="paramname"><em>q</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get orientation of the body with respect to inertial frame, in unit quaternion form If we denote \( A \) as inertial frame and \( B \) as the frame attached to the body, then this method gives us \( {^A}q_B as the quaternion \). </p>
<dl class="section note"><dt>Note</dt><dd>quaternion has the form (real, imaginary) and is normalized </dd>
<dd>
Usually a rotation matrix can be described using two quaternions due to its double-connectedness property Depending on the specific filter, the initial state and the trajectory of the system, we could obtain one quaternion or the other(opposite spin), depending on the system dynamics.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">q</td><td>UnitQuaternion </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true/false if successful/not </dd></dl>

<p>Implemented in <a class="el" href="classiDynTree_1_1AttitudeQuaternionEKF.html#a01e03a0620f4abf473d8cf42c37528ea">iDynTree::AttitudeQuaternionEKF</a>, and <a class="el" href="classiDynTree_1_1AttitudeMahonyFilter.html#a12b66b4f277bb7942e82eb970550878a">iDynTree::AttitudeMahonyFilter</a>.</p>

</div>
</div>
<a id="add5b1c7109a232bcb3da976792f72a6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add5b1c7109a232bcb3da976792f72a6f">&#9670;&nbsp;</a></span>getOrientationEstimateAsRPY()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool iDynTree::IAttitudeEstimator::getOrientationEstimateAsRPY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceiDynTree.html#a48e2955e462d28103d57a10634d0654d">iDynTree::RPY</a> &amp;&#160;</td>
          <td class="paramname"><em>rpy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get orientation of the body with respect to inertial frame, in Euler's RPY form If we denote \( A \) as inertial frame and \( B \) as the frame attached to the body, then this method gives us the RPY 3d vector of Euler Angles when composed together gives us \( {^A}R_B \) as the rotation matrix where \( {^A}R_B = Rot_z(yaw)Rot_y(pitch)Rot_x(roll)\). </p>
<p>For more details about the range of the RPY Euler angles, please refer the documentation of <a href="https://github.com/robotology/idyntree/blob/c8bf721b771fa4b1e7c3a940632e121060719a19/src/core/include/iDynTree/Core/Rotation.h#L167">GetRPY()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">rpy</td><td>3D vector containing roll pitch yaw angles </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true/false if successful/not </dd></dl>

<p>Implemented in <a class="el" href="classiDynTree_1_1AttitudeQuaternionEKF.html#a0fc087b7d9adc7384e008c8dae11677b">iDynTree::AttitudeQuaternionEKF</a>, and <a class="el" href="classiDynTree_1_1AttitudeMahonyFilter.html#acae8174e86843da647341949ca29e17a">iDynTree::AttitudeMahonyFilter</a>.</p>

</div>
</div>
<a id="a7234eb151268d99d90dbe691a6bf3a46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7234eb151268d99d90dbe691a6bf3a46">&#9670;&nbsp;</a></span>getInternalStateSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual size_t iDynTree::IAttitudeEstimator::getInternalStateSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get dimension of the state vector. </p>
<dl class="section return"><dt>Returns</dt><dd>size_t size of state vector </dd></dl>

<p>Implemented in <a class="el" href="classiDynTree_1_1AttitudeQuaternionEKF.html#add647ea478071ebfc8d16a421c36f3ef">iDynTree::AttitudeQuaternionEKF</a>, and <a class="el" href="classiDynTree_1_1AttitudeMahonyFilter.html#a14a59acedee3a36d1cb1a57c863f6e21">iDynTree::AttitudeMahonyFilter</a>.</p>

</div>
</div>
<a id="a0360685bed94e086224b1126116dca04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0360685bed94e086224b1126116dca04">&#9670;&nbsp;</a></span>getInternalState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool iDynTree::IAttitudeEstimator::getInternalState </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1Span.html">iDynTree::Span</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>stateBuffer</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get internal state of the estimator The internal state of the estimator is described as \( X = \begin{bmatrix} {^A}q_B \\ {^B}\Omega_{A,B} \\ {^B}b \end{bmatrix}^T \) \( {^A}q_B \in \mathbb{R}^4 \) is the quaternion representing the orientation of a body(IMU) frame with respect to an inertial frame , \( {^B}\Omega_{A,B} \in \mathbb{R}^3 \) is the angular velocity of a body(IMU) frame with respect to an inertial frame, expressed in the body frame and \( {^B}b \in \mathbb{R}^3 \) is the gyroscope bias expressed in the body frame. </p>
<p>The default internal state of the estimator would be \( X = \begin{bmatrix} 1.0 \\ 0_{1 \times 3} \\ 0_{1 \times 3} \\ 0_{1 \times 3} \end{bmatrix}^T \) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">stateBuffer</td><td><a class="el" href="classiDynTree_1_1Span.html">Span</a> object as reference of the container where state vector should be copied to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true/false if successful/not </dd></dl>

<p>Implemented in <a class="el" href="classiDynTree_1_1AttitudeQuaternionEKF.html#a38b5c9a6cc64d28e33bb5ccf424b6622">iDynTree::AttitudeQuaternionEKF</a>, and <a class="el" href="classiDynTree_1_1AttitudeMahonyFilter.html#ae5f871007add5e65389039743a88ab71">iDynTree::AttitudeMahonyFilter</a>.</p>

</div>
</div>
<a id="a86554ddcfc70601b05ad7cd997851983"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86554ddcfc70601b05ad7cd997851983">&#9670;&nbsp;</a></span>getDefaultInternalInitialState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool iDynTree::IAttitudeEstimator::getDefaultInternalInitialState </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1Span.html">iDynTree::Span</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>stateBuffer</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get initial internal state of the estimator The internal state of the estimator is described as \( X = \begin{bmatrix} {^A}q_B \\ {^B}\Omega_{A,B} \\ {^B}b \end{bmatrix}^T \) \( {^A}q_B \in \mathbb{R}^4 \) is the quaternion representing the orientation of a body(IMU) frame with respect to an inertial frame , \( {^B}\Omega_{A,B} \in \mathbb{R}^3 \) is the angular velocity of a body(IMU) frame with respect to an inertial frame, expressed in the body frame and \( {^B}b \in \mathbb{R}^3 \) is the gyroscope bias expressed in the body frame. </p>
<p>The default internal state of the estimator would be \( X = \begin{bmatrix} 1.0 \\ 0_{1 \times 3} \\ 0_{1 \times 3} \\ 0_{1 \times 3} \end{bmatrix}^T \) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">stateBuffer</td><td><a class="el" href="classiDynTree_1_1Span.html">Span</a> object as reference of the container where state vector should be copied to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true/false if successful/not </dd></dl>

<p>Implemented in <a class="el" href="classiDynTree_1_1AttitudeQuaternionEKF.html#a687b22236d1149388d9dae9bc3eed81f">iDynTree::AttitudeQuaternionEKF</a>, and <a class="el" href="classiDynTree_1_1AttitudeMahonyFilter.html#af275b53472f9fa6f5f146f1f5a302bdc">iDynTree::AttitudeMahonyFilter</a>.</p>

</div>
</div>
<a id="a4277465fc6cacfa0fa0ccd1d1c863954"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4277465fc6cacfa0fa0ccd1d1c863954">&#9670;&nbsp;</a></span>setInternalState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool iDynTree::IAttitudeEstimator::setInternalState </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1Span.html">iDynTree::Span</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>stateBuffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>set internal state of the estimator. </p>
<p>The internal state of the estimator is described as \( X = \begin{bmatrix} {^A}q_B \\ {^B}\Omega_{A,B} \\ {^B}b \end{bmatrix}^T \) \( {^A}q_B \in \mathbb{R}^4 \) is the quaternion representing the orientation of a body(IMU) frame with respect to an inertial frame , \( {^B}\Omega_{A,B} \in \mathbb{R}^3 \) is the angular velocity of a body(IMU) frame with respect to an inertial frame, expressed in the body frame and \( {^B}b \in \mathbb{R}^3 \) is the gyroscope bias expressed in the body frame. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stateBuffer</td><td><a class="el" href="classiDynTree_1_1Span.html">Span</a> object as reference of the container from which the internal state vector should be assigned. The size of the buffer should be 10. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true/false if successful/not </dd></dl>

<p>Implemented in <a class="el" href="classiDynTree_1_1AttitudeQuaternionEKF.html#af2c3440e43f4a09841e7aacb977fc5f6">iDynTree::AttitudeQuaternionEKF</a>, and <a class="el" href="classiDynTree_1_1AttitudeMahonyFilter.html#a056cbfe2f712924c67609afcda054271">iDynTree::AttitudeMahonyFilter</a>.</p>

</div>
</div>
<a id="a8ca76def98fa0bd37975788dc7e1c0c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ca76def98fa0bd37975788dc7e1c0c5">&#9670;&nbsp;</a></span>setInternalStateInitialOrientation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool iDynTree::IAttitudeEstimator::setInternalStateInitialOrientation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classiDynTree_1_1Span.html">iDynTree::Span</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>orientationBuffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>set the initial orientation for the internal state of the estimator. </p>
<p>The initial orientation for the internal state of the estimator is described as \( {^A}q_B \) \( {^A}q_B \in \mathbb{R}^4 \) is the quaternion representing the orientation of a body(IMU) frame with respect to an inertial frame , </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stateBuffer</td><td><a class="el" href="classiDynTree_1_1Span.html">Span</a> object as reference of the container from which the inital orientaiton for internal state vector should be assigned. The size of the buffer should be 4. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true/false if successful/not </dd></dl>

<p>Implemented in <a class="el" href="classiDynTree_1_1AttitudeQuaternionEKF.html#aa7a6ab9ed9227c130dd6edc9fbe02e49">iDynTree::AttitudeQuaternionEKF</a>, and <a class="el" href="classiDynTree_1_1AttitudeMahonyFilter.html#a9f0c070353e6da5b2ad7b478de1eb7dd">iDynTree::AttitudeMahonyFilter</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="AttitudeEstimator_8h.html">AttitudeEstimator.h</a></li>
<li><a class="el" href="AttitudeEstimator_8cpp.html">AttitudeEstimator.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceiDynTree.html">iDynTree</a></li><li class="navelem"><a class="el" href="classiDynTree_1_1IAttitudeEstimator.html">IAttitudeEstimator</a></li>
    <li class="footer">Generated on Fri Apr 23 2021 13:56:12 for iDynTree by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
